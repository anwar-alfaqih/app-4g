<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>YEMEN 4G - Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù… Ø¹Ù† Ø±ØµÙŠØ¯ Ø¨Ø§Ù‚Ø§Øª</title>
    <meta name="author" content="Anwar-Alfaqih">
<meta name="designer" content="Anwar-Alfaqih">
<meta name="owner" content="Anwar-Alfaqih">
<meta name="title" content="YEMEN 4G - Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù… Ø¹Ù† Ø±ØµÙŠØ¯ Ø¨Ø§Ù‚Ø§Øª">
<meta name="description" content="Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø£Ø³Ø±Ø¹ Ù„Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù… Ø¹Ù† Ø±ØµÙŠØ¯ Ø¨Ø§Ù‚Ø§Øª ÙŠÙ…Ù† ÙÙˆØ± Ø¬ÙŠ Ø¨ÙƒÙ„ Ø³Ù‡ÙˆÙ„Ø© ÙˆÙ…ÙˆØ«ÙˆÙ‚ÙŠØ©.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://anwar-alfaqih.github.io/app-4g"> <meta property="og:title" content="YEMEN 4G - Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù… Ø¹Ù† Ø±ØµÙŠØ¯ Ø¨Ø§Ù‚Ø§Øª">
<meta property="og:description" content="Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù… Ø¹Ù† Ø±ØµÙŠØ¯ ÙŠÙ…Ù† 4GØŒ Ø¨ÙˆØ§Ø¨ØªÙƒ Ø§Ù„Ø³Ù‡Ù„Ø© Ù„Ù…Ø¹Ø±ÙØ© Ø§Ù„Ø±ØµÙŠØ¯ ÙˆØ§Ø³ØªÙ‡Ù„Ø§Ùƒ Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª.">
<meta property="og:image" content="https://raw.githubusercontent.com/anwar-alfaqih/app-4g/refs/heads/main/icon-512.png"> 
<meta property="og:image:width" content="512">
<meta property="og:image:height" content="512">
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:url" content="https://anwar-alfaqih.github.io/app-4g">
<meta property="twitter:title" content="YEMEN 4G - Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù… Ø¹Ù† Ø±ØµÙŠØ¯ Ø¨Ø§Ù‚Ø§Øª">
<meta property="twitter:description" content="Ø§Ø³ØªØ¹Ù„Ù… Ø¹Ù† Ø±ØµÙŠØ¯ Ø¨Ø§Ù‚Ø§Øª ÙŠÙ…Ù† ÙÙˆØ± Ø¬ÙŠ Ø¨ÙƒÙ„ Ø³Ù‡ÙˆÙ„Ø© Ø¹Ø¨Ø± ØªØ·Ø¨ÙŠÙ‚Ù†Ø§ Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠ.">
<meta property="twitter:image" content="https://raw.githubusercontent.com/anwar-alfaqih/app-4g/refs/heads/main/icon-512.png">
<link rel="icon" type="image/png" href="icon-512.png">
<link rel="shortcut icon" href="icon-512.png" type="image/x-icon">
<link rel="apple-touch-icon" href="icon-512.png">
<meta name="msapplication-TileImage" content="icon-512.png">
<meta name="msapplication-TileColor" content="#004aad">    
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#004aad">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">
    
    <style>
        :root {
    --primary: #004aad;
    --main-gradient: linear-gradient(135deg, #004aad 0%, #001e46 100%);
    --bg: #ffffff;
    --text-color: #002d6a;
    --card-bg: #f8f9fa;
}

[data-theme="dark"] {
    --primary: #3d94ff;
    --main-gradient: linear-gradient(135deg, #1e1e1e 0%, #000000 100%);
    --bg: #121212;
    --text-color: #e1e1e1;
    --card-bg: #1e1e1e;
}

* {
    margin: 0; padding: 0; box-sizing: border-box;
    font-family: 'Cairo', sans-serif;
    user-select: none; -webkit-user-select: none;
    touch-action: pan-y;
}

body { 
    background: var(--bg); 
    color: var(--text-color);
    height: 100vh; 
    display: flex; 
    align-items: center; 
    justify-content: center; 
    overflow: hidden; 
    transition: background 0.3s ease;
}

#theme-btn {
    position: fixed; 
    top: 20px; 
    left: 20px; 
    background: rgba(0,74,173,0.1); 
    width: 40px; 
    height: 40px; 
    border-radius: 50%; 
    display: flex; 
    align-items: center; 
    justify-content: center; 
    cursor: pointer; 
    color: var(--primary); 
    z-index: 1000;
    transition: 0.3s;
}

[data-theme="dark"] #theme-btn {
    background: rgba(255,255,255,0.1);
}
        #splash {
            position: fixed; inset: 0; background: var(--main-gradient);
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            z-index: 10000; transition: 0.8s cubic-bezier(0.65, 0, 0.35, 1);
        }

        .loader {
            width: 45px; height: 45px; border: 4px solid rgba(255,255,255,0.1);
            border-top: 4px solid #fff; border-radius: 50%;
            animation: spin 1s linear infinite; margin-top: 20px;
        }
        @keyframes spin { 100% { transform: rotate(360deg); } }

        #app-ui { width: 90%; max-width: 400px; text-align: center; display: block; opacity: 0; transform: translateY(20px); transition: 0.8s; }
        #app-ui.visible { opacity: 1; transform: translateY(0); }

        .logo-box { width: 120px; height: 120px; margin: 0 auto 25px; border-radius: 25px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); content: url('icon-512.png'); }

        h1 { color: #002d6a; font-size: 1.6rem; margin-bottom: 8px; font-weight: 900; }
        h2 { color: #00b4d8; font-size: 1rem; margin-bottom: 20px; font-weight: 700; }
        p { color: #666; font-size: 0.95rem; line-height: 1.7; margin-bottom: 35px; }

        .btn-start {
            background: var(--main-gradient); color: white; border: none; padding: 18px;
            width: 100%; border-radius: 20px; font-weight: 700; font-size: 1.2rem;
            box-shadow: 0 10px 25px rgba(0,74,173,0.3); cursor: pointer; transition: 0.3s;
        }
        .btn-start:active { transform: scale(0.96); opacity: 0.9; }

        #error-overlay {
            position: fixed; inset: 0; background: white; z-index: 9000;
            display: none; flex-direction: column; align-items: center; justify-content: center;
            padding: 30px; text-align: center;
        }
        .error-circle { width: 110px; height: 110px; background: #fff5f5; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 50px; margin-bottom: 25px; border: 4px solid #ffebeb; }
        .retry-link { margin-top: 25px; color: var(--primary); font-weight: 700; cursor: pointer; text-decoration: underline; font-size: 1.1rem; }

        @keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-10px); } 75% { transform: translateX(10px); } }

        .social { display: flex; gap: 20px; justify-content: center; margin-top: 40px; border-top: 1px solid #eee; padding-top: 30px; }
        .social-icon { width: 50px; height: 50px; border-radius: 15px; display: flex; align-items: center; justify-content: center; transition: 0.3s; }
        .social-icon:active { transform: scale(0.9); }
    </style>
</head>
<body oncontextmenu="return false;">

    <div id="splash">
        <div style="background:white; padding:15px; border-radius:20px; margin-bottom:10px;">
            <h1 style="color:var(--primary); font-size: 1.8rem;">YEMEN 4G</h1>
        </div>
        <div class="loader"></div>
    </div>

    <main id="app-ui">
        <div class="logo-box"></div>
        <h1>Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù… Ø¹Ù† Ø±ØµÙŠØ¯ ÙŠÙ…Ù† 4G</h1>
        <h2>Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù… Ø§Ù„Ø°ÙƒÙŠ</h2>
        <p>Ø¨ÙˆØ§Ø¨ØªÙƒ Ø§Ù„Ø³Ø±ÙŠØ¹Ø© Ù„Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù… Ø¹Ù† Ø±ØµÙŠØ¯ Ø§Ù„Ø¨Ø§Ù‚Ø§Øª ÙˆØ§Ø³ØªÙ‡Ù„Ø§Ùƒ Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª Ø¨ÙƒÙ„ Ø³Ù‡ÙˆÙ„Ø© ÙˆÙ…ÙˆØ«ÙˆÙ‚ÙŠØ©.</p>
        
        <button class="btn-start" id="main-btn" onclick="handleRedirection()">Ø¨Ø¯Ø¡ Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù…</button>
        <div id="expiry-section" style="margin-top: 20px; padding: 15px; background: var(--card-bg); border-radius: 15px; border: 1px solid rgba(0,74,173,0.1); text-align: center;">
    <h4 style="font-size: 14px; margin-bottom: 10px; color: var(--primary);">â³ Ø§Ø­ÙØ¸ Ù…ÙˆØ¹Ø¯ ØªØ¬Ø¯ÙŠØ¯ Ø§Ù„Ø¨Ø§Ù‚Ù‡</h4>
    
    <div id="setup-expiry">
        <input type="date" id="expiry-date" style="padding: 8px; border-radius: 8px; border: 1px solid #ccc; outline: none; font-family: sans-serif;">
        <button onclick="setExpiryDate()" style="background: var(--primary); color: white; border: none; padding: 8px 15px; border-radius: 8px; margin-top: 5px; cursor: pointer;">Ø­ÙØ¸</button>
    </div>

    <div id="countdown-display" style="display: none;">
        <div id="timer" style="font-size: 18px; font-weight: bold; color: #d9534f; margin-bottom: 5px;">00ÙŠ : 00Ø³ : 00Ø¯</div>
        <button onclick="resetExpiry()" style="font-size: 11px; background: none; border: none; color: var(--text-secondary); text-decoration: underline; cursor: pointer;">ØªØºÙŠÙŠØ± Ø§Ù„Ù…ÙˆØ¹Ø¯</button>
    </div>
    </div>
        <div class="social">
            <a href="fb://facewebmodal/f?href=https://www.facebook.com/share/1C3eEtftYM/" class="social-icon" style="background:#1877f2;">
                <svg width="28" height="28" fill="white" viewBox="0 0 24 24"><path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"/></svg>
            </a>
            <a href="tg://resolve?domain=apps_alfaqih" class="social-icon" style="background:#24A1DE;">
                <svg width="28" height="28" fill="white" viewBox="0 0 24 24"><path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.894 8.221l-1.97 9.28c-.145.658-.537.818-1.084.508l-3-2.21-1.446 1.394c-.14.14-.357.223-.548.223l.188-2.85 5.18-4.68c.225-.198-.049-.307-.346-.11l-6.4 4.03-2.768-.868c-.604-.19-.612-.604.124-.896l10.81-4.17c.5-.185.938.114.73.91z"/></svg>
            </a>
        </div>
    </main>

    <div id="error-overlay">
        <div class="error-circle" id="error-icon">ğŸ‡¾ğŸ‡ª</div>
        <h2 style="color: #2d3436; margin-bottom: 10px;">Ø¹Ø°Ø±Ø§Ù‹ØŒ ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¨ÙˆØ§Ø¨Ø©</h2>
        <p style="color: #666; max-width: 280px;">ÙŠØ¨Ø¯Ùˆ Ø£Ù† Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø±Ø³Ù…ÙŠ Ù„Ø§ ÙŠØ³ØªØ¬ÙŠØ¨ Ø­Ø§Ù„ÙŠØ§Ù‹ Ø£Ùˆ Ø£Ù† Ø§ØªØµØ§Ù„Ùƒ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª Ø¶Ø¹ÙŠÙ Ø§Ùˆ Ø§Ù†Ùƒ Ø®Ø§Ø±Ø¬ Ø§Ù„Ø£Ø±Ø§Ø¶ÙŠ Ø§Ù„ÙŠÙ…Ù†ÙŠÙ‡.</p>
        <button class="btn-start" style="margin-top: 30px; max-width: 250px;" onclick="handleRedirection()">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©</button>
        <div class="retry-link" onclick="backToHome()">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</div>
    </div>
        <div id="theme-btn" onclick="toggleTheme()">
        <span id="theme-icon">ğŸŒ™</span>
    </div>
    <div id="info-btn" onclick="toggleInfo()" style="position: fixed; top: 20px; right: 20px; background: rgba(0,74,173,0.1); width: 35px; height: 35px; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; color: var(--primary); font-weight: bold; z-index: 999;">i</div>
    <div id="info-modal" style="display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.6); z-index: 10001; align-items: center; justify-content: center; backdrop-filter: blur(5px);">
    <div style="background: white; width: 85%; max-width: 320px; padding: 25px; border-radius: 25px; text-align: center; position: relative;">
        <div style="width: 70px; height: 70px; background: var(--main-gradient); border-radius: 50%; margin: 0 auto 15px; display: flex; align-items: center; justify-content: center; color: white; font-size: 1.5rem;">ğŸ‘¨â€ğŸ’»</div>
        <h3 style="color: var(--primary);">Ø§Ù„Ù…Ø·ÙˆØ±</h3>
        <p style="font-size: 0.9rem; color: #666; margin: 10px 0;">ØªÙ… ØªØµÙ…ÙŠÙ… ÙˆØªØ·ÙˆÙŠØ± Ù‡Ø°Ø§ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¨ÙˆØ§Ø³Ø·Ø©:</p>
        <h2 style="font-size: 1.2rem; color: #333;">[Anwar Alfaqih]</h2>
        <p style="font-size: 0.8rem; color: #999; margin-top: 5px;">Ø¥ØµØ¯Ø§Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ 1.0.0</p>
        <button onclick="toggleInfo()" style="margin-top: 20px; background: #eee; border: none; padding: 10px 25px; border-radius: 15px; cursor: pointer; font-weight: bold;">Ø¥ØºÙ„Ø§Ù‚</button>
    </div>
    </div>   
    <script>
        function toggleInfo() {
    const modal = document.getElementById('info-modal');
    modal.style.display = (modal.style.display === 'none' || modal.style.display === '') ? 'flex' : 'none';
    if ("vibrate" in navigator) navigator.vibrate(50);
}
        window.addEventListener('load', () => {
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.register('sw.js').catch(err => console.log("SW Error", err));
            }
            setTimeout(() => {
                const splash = document.getElementById('splash');
                splash.style.transform = 'translateY(-100%)';
                document.getElementById('app-ui').classList.add('visible');
            }, 2500);
        });

        function triggerVibration() {
            if ("vibrate" in navigator) navigator.vibrate([100, 50, 100]);
        }

        function backToHome() {
            document.getElementById('error-overlay').style.display = 'none';
            const appUi = document.getElementById('app-ui');
            appUi.style.display = 'block';
            setTimeout(() => appUi.classList.add('visible'), 10);
            document.getElementById('main-btn').innerText = "Ø¨Ø¯Ø¡ Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù…";
        }

        async function handleRedirection() {
            const btn = document.getElementById('main-btn');
            const targetUrl = "https://ptc.gov.ye/?page_id=9017";
            const originalText = "Ø¨Ø¯Ø¡ Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù…";
            
            btn.innerText = "Ø¬Ø§Ø±ÙŠ ÙØ­Øµ Ø§Ù„Ø§ØªØµØ§Ù„...";
            btn.disabled = true;

            if (!navigator.onLine) {
                setTimeout(() => {
                    btn.disabled = false;
                    btn.innerText = originalText;
                    showError();
                }, 400);
                return;
            }

            const controller = new AbortController();
            const timeoutId = setTimeout(() => controller.abort(), 6000);

            try {
                const response = await fetch(targetUrl, { 
                    mode: 'no-cors',
                    signal: controller.signal 
                });

                window.location.href = targetUrl;

            } catch (err) {
              console.log("ØªÙ… Ø§Ø¹ØªØ±Ø§Ø¶ Ø§Ù„Ø®Ø·Ø£ ÙˆÙ…Ù†Ø¹ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù…ØªØµÙØ­");
                btn.disabled = false;
                btn.innerText = originalText;
                showError();
            } finally {
                clearTimeout(timeoutId);
            }
        }

        function showError() {
            triggerVibration();
            document.getElementById('app-ui').style.display = 'none';
            const errorOverlay = document.getElementById('error-overlay');
            errorOverlay.style.display = 'flex';
            document.getElementById('error-icon').style.animation = 'shake 0.5s ease-in-out';
        }
        document.addEventListener('gesturestart', (e) => e.preventDefault());
        document.addEventListener('dblclick', (e) => e.preventDefault());

        let countdownInterval;

function setExpiryDate() {
    const dateInput = document.getElementById('expiry-date').value;
    if (!dateInput) return alert("ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ØªØ§Ø±ÙŠØ®");

    localStorage.setItem('yemen4g_expiry', dateInput);
    startCountdown(dateInput);
}

function startCountdown(expiryDate) {
    const setupUI = document.getElementById('setup-expiry');
    const displayUI = document.getElementById('countdown-display');
    const timerText = document.getElementById('timer');

    if (setupUI) setupUI.style.display = 'none';
    if (displayUI) displayUI.style.display = 'block';

    function updateTimer() {
        const now = new Date().getTime();
        const expiryTime = new Date(expiryDate).getTime();
        const distance = expiryTime - now;

        if (isNaN(distance)) return;

        if (distance <= 0) {
            timerText.innerText = "Ø§Ù†ØªÙ‡Øª Ø§Ù„Ø¨Ø§Ù‚Ø©!";
            timerText.style.color = "#ff4d4d";
            if (countdownInterval) clearInterval(countdownInterval);
            return;
        }

        const days = Math.floor(distance / (1000 * 60 * 60 * 24));
        const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((distance % (1000 * 60)) / 1000); // Ø£Ø¶ÙÙ†Ø§ Ø§Ù„Ø«ÙˆØ§Ù†ÙŠ Ù„Ù†ØªØ£ÙƒØ¯ Ø£Ù†Ù‡ Ù„Ø§ ÙŠØªÙˆÙ‚Ù

        timerText.innerText = `${days}ÙŠ : ${hours}Ø³ : ${minutes}Ø¯ : ${seconds}Ø«`;
        
        if (days < 2) {
            timerText.style.color = "#f0ad4e"; 
        } else {
            timerText.style.color = "var(--primary)";
        }
    }

    updateTimer();

    if (window.countdownInterval) clearInterval(window.countdownInterval);
    window.countdownInterval = setInterval(updateTimer, 1000);
}
function resetExpiry() {
    localStorage.removeItem('yemen4g_expiry');
    clearInterval(countdownInterval);
    document.getElementById('setup-expiry').style.display = 'block';
    document.getElementById('countdown-display').style.display = 'none';
}

const savedExpiry = localStorage.getItem('yemen4g_expiry');
if (savedExpiry) {
    startCountdown(savedExpiry);
}

        function toggleTheme() {
    const currentTheme = document.documentElement.getAttribute('data-theme');
    const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
    
    document.documentElement.setAttribute('data-theme', newTheme);
    localStorage.setItem('theme', newTheme); 
    
    updateThemeUI(newTheme);
}

function updateThemeUI(theme) {
    const icon = document.getElementById('theme-icon');
    icon.innerText = (theme === 'dark') ? 'â˜€ï¸' : 'ğŸŒ™';
}

const savedTheme = localStorage.getItem('theme') || 'light';
document.documentElement.setAttribute('data-theme', savedTheme);
updateThemeUI(savedTheme); 
    </script>
</body>
</html>
